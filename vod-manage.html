<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>点播管理</title>
		<script src="script/jquery-1.11.1.min.js" type="text/javascript"></script>
		<link href="bootstrap-3.3.5-dist/css/bootstrap.min.css" title="" rel="stylesheet" />
		<link title="" href="font/iconfont.css" rel="stylesheet" type="text/css" />
		<link title="" href="css/style.css" rel="stylesheet" type="text/css" />
		<link title="" href="css/services.css" rel="stylesheet" type="text/css" />
		<script src="bootstrap-3.3.5-dist/js/bootstrap.js" type="text/javascript"></script>
		<script type="text/javascript" src="laydate/laydate.js"></script>
		<script src="script/clipboard.min.js"></script>
		<script type="text/javascript" src="layui/layui.js"></script>
		<script type="text/javascript" src="script/cropbox.js"></script>
		<!--UMEDITOR-->
		<link rel="stylesheet" href="umeditor/themes/default/css/umeditor.css">
		<script type="text/javascript" src="umeditor/third-party/template.min.js"></script>
		<script type="text/javascript" src="umeditor/umeditor.config.js"></script>
		<script type="text/javascript" src="umeditor/umeditor.js"></script>
		<script type="text/javascript" src="umeditor/lang/zh-cn/zh-cn.js"></script>
	</head>

	<body>
		<nav class="nav navbar-mystyle navbar-fixed-top">
			<div class="navbar-header-dsc pull-left">
				<a href="#"><img src="img/logox.png"></a>
			</div>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="li-border">
						<a class="mystyle-color" href="index.html">管理控制台</a>
					</li>
					<li class="dropdown pro_ser li-border">
						<a href="#" class="dropdown-toggle mystyle-color" data-toggle="dropdown">
							<span>产品与服务</span>
							<span class="icon-arrow-down icon iconfont icon-sortdesc"></span>
						</a>
						<ul class="dropdown-menu dropdown_">
							<li>
								<a href="service-live.html">视频直播</a>
							</li>
							<li>
								<a href="service-vod.html">视频点播</a>
							</li>
							<li>
								<a href="video_material.html">视频编辑</a>
							</li>
							<li>
								<a href="service-meeting.html">视频会议</a>
							</li>
							<li>
								<a href="service-mct.html">媒体转码</a>
							</li>
							<li>
								<a href="service-image.html">图片处理</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="nav navbar-nav pull-right">
					<li class="li-border user-nam">
						<a href="#" class="dropdown-toggle mystyle-color">
							00000000@qq.com
						</a>
						<div class="user_cen">
							<div class="user_cen_list fix">
								<a href="modfiy_infor.html"><span class="icon iconfont icon-weibiaoti3"></span><span>基本资料</span></a>
								<a href="modfiy_pass.html"><span class="icon iconfont icon-xiugaimima"></span><span>修改密码</span></a>
								<a href="modfiy_touxiang.html"><span class="icon iconfont icon-xiugaitouxiang"></span><span>修改头像</span></a>
								<a href="user_care.html"><span class="icon iconfont icon-uniE6"></span><span>我的关注</span></a>
							</div>
							<div class="user_logout_btn">
								<a href="http://clouds.fanson.cc/?=login.html">退出登录</a>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</nav>
		<!--nav end-->
		<div class="down-main">
			<div class="left-main left-off">
				<div class="sidebar-fold">
					<span class="icon iconfont icon-menu"></span>
				</div>
				<div class="subNavBox">
					<ul>
						<li>
							<a href="service-live.html">
								<span class="sublist-icon iconfont icon-shipinzhibo"></span>
								<span class="sub-title">视频直播</span>
								<div class="Ttitle"><span>视频直播</span></div>
							</a>
						</li>
						<li class="active">
							<a href="service-vod.html"><span class="sublist-icon iconfont icon-yinshipindianboVOD"></span><span class="sub-title">视频点播</span>
								<div class="Ttitle"><span>视频点播</span></div>
							</a>
						</li>
						<li>
							<a href="video_material.html"><span class="sublist-icon"><img src="img/videoedit.png" /></span><span class="sub-title">视频编辑</span>
								<div class="Ttitle"><span>视频编辑</span></div>
							</a>
						</li>
						<li>
							<a href="service-meeting.html">
								<span class="sublist-icon iconfont icon-shipinhuiyi"></span><span class="sub-title">视频互动</span>
								<div class="Ttitle"><span>视频会议</span></div>
							</a>
						</li>
						<li>
							<a href="service-mct.html"><span class="sublist-icon iconfont icon-yinshipinzhuanmaMCT"></span><span class="sub-title">媒体转码</span>
								<div class="Ttitle"><span>媒体转码</span></div>
							</a>
						</li>
						<li>
							<a href="service-image.html"><span class="sublist-icon iconfont icon-img"></span><span class="sub-title">图片处理</span>
								<div class="Ttitle"><span>图片处理</span></div>
							</a>
						</li>
						<li>
							<a href="course.html"><span class="sublist-icon iconfont icon-gongcheng" style="font-size: 18px;"></span><span class="sub-title">帮助文档</span>
								<div class="Ttitle"><span>帮助文档</span></div>
							</a>
						</li>
					</ul>
				</div>
			</div>
			<!--left-main end-->
			<div class="right-service right-product right-off">
				<div class="right-service-lf">
					<div class="prodtitle prodnava"><span class="nav_icon icon iconfont icon-uniE11" onclick="history.go(-1)"></span></div>
					<div id="jquery-accordion-menu" class="jquery-accordion-menu">
						<ul id="demo-list">
							<li class="on">
								<a href="live-manage.html">视频详情</a>
							</li>
						</ul>
					</div>
				</div>
				<!--right-service-lf end-->
				<div class="dislpayArrow" onClick="displaynavbar(this)">
					<div class="dislpayArrow_inner">
						<div class="dislpayArrow_bg"></div>
						<div class="dislpayArrow_coll">
							<span class="icon iconfont icon-zhankai icon-collapse-left"></span>
							<span class="icon iconfont icon-unfold icon-collapse-right"></span></div>
					</div>
				</div>
				<!--dislpayArrow end-->
				<div class="right-service-rt">
					<div class="row media-detail">
						<div class="col-sm-12">
							<div class="console-title border-bottom">
								<h2>视频详情</h2>
							</div>
							<div class="main-container">
								<div class="media-infor video-info margin-b2">
									<div class="cover">
										<div style=""></div>
									</div>
									<div class="dd">
										<h3><span>hero.mp4</span></h3>
										<p><span class="text">视频ID</span>: 223246bc29be4224a04623fe64a156cf</p>
										<p><span class="text">视频时长</span>: 00:05</p>
										<p><span class="text">视频大小</span>: 904.16 KB</p>
										<p><span class="text">创建时间</span>: 2017-10-26 12:15:55</p>
										<p><span class="text">最近更新</span>: 2017-10-26 12:16:00</p>
									</div>
								</div>
								<!--media_infor end-->
								<div class="margin-b2 tab information_tab" role="tabpanel">
									<!-- Nav tabs -->
									<ul class="nav nav-tabs margin-b3" role="tablist">
										<li role="presentation" class="active">
											<a href="#Section1" aria-controls="home" role="tab" data-toggle="tab">基本信息</a>
										</li>
										<li role="presentation">
											<a href="#Section2" aria-controls="profile" role="tab" data-toggle="tab">视频地址</a>
										</li>
									</ul>
									<!-- Tab panes -->
									<div class="tab-content tabs information">
										<div role="tabpanel" class="tab-pane fade in active" id="Section1">
											<!--<h3>基本信息</h3>-->
											<form class="form-horizontal form-label-left" id="bulit-live">
												<div class="form-group">
													<label class="col-sm-1 control-label" for="">点播名称</label>
													<div class="col-sm-8">
														<input type="text" class="form-control" id="vod_name" placeholder="请输入点播名称">
													</div>
												</div>
												<div class="form-group">
													<label class="col-sm-1 control-label" for="">点播描述</label>
													<div class="col-sm-8">
														<script id="myEditor" name="content" type="text/plain" style="width:100%;height:200px;"></script>
													</div>
												</div>
												<div class="form-group">
													<label class="col-sm-1 control-label" for="">点播分类</label>
													<div class="col-sm-8">
														<select class="live-classfiy" name="" id="">
															<optgroup label="投资理财">
																<option>理财指导</option>
																<option>基金</option>
																<option>股票</option>
															</optgroup>
															<optgroup label="个人修养">
																<option selected>书法</option>
																<option>艺术</option>
																<option>绘画</option>
															</optgroup>
															<optgroup label="摄影影响">
																<option>摄影基础</option>
																<option>摄影后期</option>
																<option>影视基础</option>
																<option>影视后期</option>
															</optgroup>
															<optgroup label="音乐乐器">
																<option>唱歌发声</option>
																<option>琴艺乐器</option>
																<option>音乐基础</option>
															</optgroup>
															<optgroup label="运动健康">
																<option>体育</option>
																<option>瑜伽</option>
																<option>舞蹈</option>
															</optgroup>
														</select>
													</div>
												</div>
												<div class="form-group">
													<label class="col-sm-1 control-label" for="">点播标签</label>
													<div class="col-sm-8">
														<div class="info-input">
															<div class="vod-label">
																<div class="tags-editor labellength inline-block"></div>
																<div class="tags-editor inline-block">
																	<div class="item input hidden"><input maxlength="15" placeholder="最多 15 个字符" class=""></div>
																	<div class="item add" id="addvodlabel"><span>＋</span></div>
																</div>
															</div>
														</div>
													</div>
												</div>
												<div class="form-group">
													<label class="col-sm-1 control-label" for="">点播封面</label>
													<div class="info-input">
														<div class="custom-cover-directive">
															<div class="inline-block" style="width: 500px;margin-top: 2px">
																<div class="custom-cover-title">上传 <span style="font-size:12px; color: #999">（图片格式仅支持JPG／PNG格式，不超过1M大小、不超过1920*1080）</span></div>
																<div class="custom-cover-upload">
																	<ul class="cover-box imagaddbox" id="imagaddbox">
																		<li class="image-add" style="width: 120px;" id="image-add">
																			<i class="glyphicon glyphicon-plus-sign"></i>上传图片
																			<input type="file" multiple class="hidden" id="imageaddfile" onchange="vodimg(this)">
																		</li>
																	</ul>
																</div>
																<div class="custom-cover-title" style="margin-top: 12px">自动截图</div>
																<div class="custom-cover-snapshot">
																	<div class="info-input clearfix">
																		<ul class="cover-box defauimg" style="width: 640px;">
																			<li class="cover-img current-cover cover-size" style="background-image: url(h006.jpg);"><i class="icon iconfont icon-xuanzhong1 check-item-tag"></i></li>
																			<li class="cover-img cover-size" style="background-image: url(h006.jpg);"><i class="icon iconfont icon-xuanzhong1 check-item-tag"></i></li>
																			<li class="cover-img cover-size" style="background-image: url(h006.jpg);"><i class="icon iconfont icon-xuanzhong1 check-item-tag"></i></li>
																			<li class="cover-img cover-size" style="background-image: url(h006.jpg);"><i class="icon iconfont icon-xuanzhong1 check-item-tag"></i></li>
																			<li class="cover-img cover-size" style="background-image: url(h006.jpg);"><i class="icon iconfont icon-xuanzhong1 check-item-tag"></i></li>
																			<li class="cover-img cover-size" style="background-image: url(h006.jpg);"><i class="icon iconfont icon-xuanzhong1 check-item-tag"></i></li>
																			<li class="cover-img cover-size" style="background-image: url(h006.jpg);"><i class="icon iconfont icon-xuanzhong1 check-item-tag"></i></li>
																			<li class="cover-img cover-size" style="background-image: url(h006.jpg);"><i class="icon iconfont icon-xuanzhong1 check-item-tag"></i></li>
																		</ul>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>
												<div class="form-group">
													<label class="col-sm-1 control-label"></label>
													<div class="col-sm-6"><input type="button" class="btn blue-normal-btn" value="确定" id="bulit-live_confirm"></div>
												</div>
											</form>
										</div>
										<div role="tabpanel" class="tab-pane fade tab-content" id="Section2">
											<div class="alert alert-warning alert-dismissible margin-top-10" role="alert">
												<button type="button" class="close" data-dismiss="alert" aria-label="Close">
														<span aria-hidden="true">&times;</span>
													</button>为保障您的数据安全，加密视频流的地址仅限于通过API方式获取
											</div>
											<div class="margin-top-10" style="line-height: 32px;" id="vod_clearbtn">
												<span>视频文件占用存储大小:28.40 MB</span>
												<button class="btn blue-normal-btn pull-right" id="vod_clear" data-toggle="modal" data-target="#myModal">一键清理</button>
											</div>
											<table class="table table-hover player-table">
												<thead>
													<tr>
														<th style="width: 1px;padding: 0;position: relative">
															<div class="title-border-left"></div>
														</th>
														<th class="w-110">清晰度</th>
														<th class="w-80" style="text-align: center;border-right: 1px solid #e1e6eb">格式</th>
														<th>视频地址</th>
														<th>存储大小</th>
														<th>操作</th>
													</tr>
												</thead>
												<tbody>
													<tr>
														<td rowspan="1"></td>
														<td rowspan="1">原始文件</td>
														<td class="text-center">mp4</td>
														<td class="play-address-style">
															<span id="play-address-style01" data-toggle="tooltip" title="http://in-20170801103221861-r1u585wc8m.oss-cn-shanghai.aliyuncs.com/customerTran...">http://in-20170801103221861-r1u585wc8m.oss-cn-shanghai.aliyuncs.com/customerTran...</span>
														</td>
														<td>17.18 MB</td>
														<td>
															<a href="#" class="vod_copy" id="vod_copy" data-clipboard-action="copy" data-clipboard-target="#play-address-style01">复制</a>
														</td>
													</tr>
													<tr class="Fluent">
														<td rowspan="1"></td>
														<td rowspan="1">流畅</td>
														<td class="text-center">m3u8</td>
														<td class="play-address-style">
															<span id="play-address-style02" data-toggle="tooltip" title="http://thelightboat.com/441b92b4eab34146b561296a9bf27f21/543f82f5f4a049089e2e973...">http://thelightboat.com/441b92b4eab34146b561296a9bf27f21/543f82f5f4a049089e2e973...</span>
														</td>
														<td>11.22 MB</td>
														<td>
															<a href="#" class="vod_copy" id="vod_copy01" data-clipboard-action="copy" data-clipboard-target="#play-address-style02">复制</a>
															<a href="#" class="vod_preview" data-toggle="modal" data-target="#myModal">预览</a>
															<a href="#" class="vod_del" data-toggle="modal" data-target="#myModal">删除</a>
														</td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>
								<!--end-->
							</div>
							<!--main-container end-->
						</div>
					</div>
				</div>
				<!--right-service-rt end-->
			</div>
			<!--right-product end-->
		</div>
		<!--down-main end-->
		<!--modal start-->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">  
                    <span aria-hidden="true">×</span>  
                </button>
						<h4 class="modal-title" id="myModalLabel">Modal title</h4>
					</div>
					<div class="modal-body"></div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
						<button type="button" class="btn btn-primary">确定</button>
					</div>
				</div>
			</div>
		</div>
		<!--modal end-->
		<!--alert -->
		<div class="growl"></div>
		<!--alert end-->
		<script type="text/javascript" src="script/style.js"></script>
		<script type="text/javascript" src="script/vod.js"></script>
		<script type="text/javascript">
			$(function() {
				$("[data-toggle='tooltip']").tooltip();
				//calendar
				$(".timecho1").each(function() {
					laydate.render({
						elem: this,
						type: 'datetime',
						trigger: 'click'
					});
				});
				//umeditor
				window.um = UM.getEditor('myEditor', {
					toolbar: ['undo redo | bold italic underline strikethrough | superscript subscript | forecolor backcolor | removeformat |',
						'insertorderedlist insertunorderedlist | selectall cleardoc paragraph | fontfamily fontsize',
						'| justifyleft justifycenter justifyright justifyjustify |'
					]
				});
				//
			});
			//copy
			var odiv = $('<div class="alert alert-success alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button> 复制成功</div>');
			var odiv1 = $('<div class="alert alert-warning alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>复制失败！请手动复制</div>');
			var clipboard = new Clipboard('.vod_copy');
			clipboard.on('success', function(e) {
				$(".growl").append(odiv).addClass("on");
				setTimeout(function() {
					$(".growl").empty(odiv).removeClass("on");
				}, 2000);
				console.log("复制成功");
			});
			clipboard.on('error', function(e) {
				$(".growl").append(odiv1).addClass("on");
				setTimeout(function() {
					$(".growl").empty(odiv1).removeClass("on");
				}, 2000);
				console.log("复制失败！请手动复制");
			});
			/*var clipboard01 = new Clipboard('#vod_copy01');
			clipboard01.on('success', function(e) {
				$(".growl").append(odiv).addClass("on");
				setTimeout(function() {
					$(".growl").empty(odiv).removeClass("on");
				}, 2000);
				console.log("复制成功");
			});
			clipboard01.on('error', function(e) {
				$(".growl").append(odiv1).addClass("on");
				setTimeout(function() {
					$(".growl").empty(odiv1).removeClass("on");
				}, 2000);
				console.log("复制失败！请手动复制");
			});*/
		</script>
		<script>
			var imageadd = document.getElementById("image-add");
			var imageaddfile = document.getElementById("imageaddfile");
			imageadd.addEventListener("click", function(e) {
				if(imageaddfile) {
					imageaddfile.click();
				}
			}, false);
			//
			function vodimg(filimg) {
				var filePath = filimg.value;
				var fileExt = filePath.substring(filePath.lastIndexOf(".")).toLowerCase();
				var file01 = filimg.files[0];
				var reader = new FileReader();
				var ret = [];
				if(!checkFileExt(fileExt)) {
					alert("文件类型错误");
					filimg.value = "";
					return;
				}
				var ul = document.getElementsByClassName("cover-box");
				var li = document.getElementsByClassName("cover-img");
				var div = document.getElementById("imagaddbox");
				var imgfl = document.getElementById("imgfl");
				for(var i = 0; i < li.length; i++) {
					li[i].className = 'cover-img';
				}
				if(imgfl) {
					div.removeChild(imgfl);
				}
				var imgli = $('<li class="cover-img current-cover cover-size" id="imgfl" style="background-image: url();"><i class="icon iconfont icon-xuanzhong1 check-item-tag"></i></li>');
				div.insertBefore(imgli[0], document.getElementById("image-add"));
				reader.onload = function(theFile) {
					console.log(theFile.target.result); //图片路径
					var image = new Image();
					image.onload = function() {
						width = this.width;
						height = this.height;
						console.log(width);
						console.log(height);
						if(width > 1200 || width > 1200) {
							alert("文件尺寸不符合要求");
							data.abort();
						}
					};
					image.src = theFile.target.result;
				}
				reader.readAsDataURL(file01);
			}
			$("#imagaddbox").on("click", "#imgfl", function() {
				$(".cover-box li").removeClass("current-cover");
				$(this).addClass("current-cover");
			})
		</script>
	</body>

</html>